{
   "services":[
      {
         "name":"SMARTSENSE",
         "components":[
            {
               "name":"ACTIVITY_ANALYZER",
               "identities":[
                  {
                     "name":"activity_analyzer",
                     "principal":{
                        "value":"${activity-conf/global.activity.analyzer.user}/_HOST@${realm}",
                        "type":"service",
                        "local_username": "${activity-conf/global.activity.analyzer.user}",
                        "configuration":"activity-conf/global.activity.analyzer.user.principal"
                     },
                     "keytab":{
                        "file":"${keytab_dir}/activity-analyzer.headless.keytab",
                        "owner":{
                           "access":"r"
                        },
                        "configuration":"activity-conf/global.activity.analyzer.user.keytab"
                     }
                  }
               ],
               "configurations":[
                  {
                     "yarn-site":{
                        "yarn.admin.acl":"${activity-conf/global.activity.analyzer.user},dr.who,${yarn-env/yarn_user}"
                     }
                  },
                  {
                     "ams-hbase-site":{
                        "hbase.superuser":"${activity-conf/global.activity.analyzer.user},${activity-conf/activity.explorer.user},${ams-env/ambari_metrics_user}"
                     }
                  }
               ]
            },
            {
               "name":"ACTIVITY_EXPLORER",
               "identities":[
                  {
                     "name":"activity_explorer",
                     "principal":{
                        "value":"${activity-conf/activity.explorer.user}/_HOST@${realm}",
                        "type":"service",
                        "local_username": "${activity-conf/activity.explorer.user}",
                        "configuration":"activity-conf/activity.explorer.user.principal"
                     },
                     "keytab":{
                        "file":"${keytab_dir}/activity-explorer.headless.keytab",
                        "owner":{
                           "access":"r"
                        },
                        "configuration":"activity-conf/activity.explorer.user.keytab"
                     }
                  }
               ],
               "configurations":[
                  {
                     "activity-zeppelin-site":{
                        "zeppelin.server.kerberos.principal":"${activity-conf/activity.explorer.user}/_HOST@${realm}",
                        "zeppelin.server.kerberos.keytab": "${keytab_dir}/activity-explorer.headless.keytab"
                     }
                  },
                  {
                     "yarn-site":{
                        "yarn.admin.acl":"${activity-conf/global.activity.analyzer.user},dr.who,${yarn-env/yarn_user}"
                     }
                  },
                  {
                     "ams-hbase-site":{
                        "hbase.superuser":"${activity-conf/global.activity.analyzer.user},${activity-conf/activity.explorer.user},${ams-env/ambari_metrics_user}"
                     }
                  }
               ]
            }
         ]
      }
   ]
}